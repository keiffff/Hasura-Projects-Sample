# Hasura を使ったプロジェクト実用例

## Hasura プロジェクト、クライアントプロジェクト、その他バックエンドサービスを monorepo 構成で管理する

- yarn workspace を使って monorepo 構成管理を実現する

## Hasura エンドポイントを複数環境用意する

- local, dev, stg, prod 環境用のプロジェクトを作成する
- local 環境で DB のスキーマを定義する
  - metadata ファイル、migration ファイルを自動生成
- 環境ごとにマイグレーション及びロールバックができるようにする
  - migration ファイル、metadata ファイルの適用
  - 環境ごとに env ファイルを読み込むようにする
- 環境ごとに seed データを投入できるようにする

## 認証プロバイダを複数環境用意する

- 環境ごとに存在する Hasura エンドポイントに対応する認証プロバイダを用意する
- 認証プロバイダから Hasura にオペレーションを実行するための関数を実装する

## クライアントの Hasura エンドポイント・認証プロバイダへの向き先を自由に制御できるようにする

- ビルド時に環境情報を渡し、向き先のエンドポイントを変える
- 認証サービス(AuthProvider)、GraphQL クライアントサービス(ApolloProvider)を実装する
- クエリを発行する
